FHIR IG Publisher Version 1.5.5 (Git# 3db07b9b9942). Built 2023-11-24T21:11:01.665Z (10 days old)
Detected Java version: 17.0.7 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.7/x64 on amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-securisation-transport-api-rest/IG-securisation-transport-api-rest, path = /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.7/x64/bin:/home/runner/.dotnet:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -go-publish -source igRepo -web ./IG-website-release/www/ig -registry ./IG-website-release/ig-registry/fhir-ig-list.json -history ./IG-website-release/fhir-ig-history-template -templates ./IG-website-release/templates
---------------
Publication Run: publish igRepo to ./IG-website-release/www/ig
Run Number: 7
Relative directory for IG is '/securisation-transport'
All checks passed. Do the publication build from /home/runner/work/IG-securisation-transport-api-rest/IG-securisation-transport-api-rest/igRepo and publish to /tmp/web-root/run-20231205/securisation-transport
Prepare Build space in /tmp/ans.fr.securisation-transport#1.2.0
Build IG at /home/runner/work/IG-securisation-transport-api-rest/IG-securisation-transport-api-rest/igRepo: final copy suitable for publication (in /tmp/ans.fr.securisation-transport#1.2.0)
FHIR IG Publisher Version 1.5.5 (Git# 3db07b9b9942). Built 2023-11-24T21:11:01.665Z (10 days old)   
Detected Java version: 17.0.7 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.7/x64 on Linux/amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-securisation-transport-api-rest/IG-securisation-transport-api-rest, path = /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.7/x64/bin:/home/runner/.dotnet:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -ig /tmp/ans.fr.securisation-transport#1.2.0 -resetTx -publish https://interop.esante.gouv.fr/ig/securisation-transport/1.2.0 -no-exit
Start Clock @ Tuesday, December 5, 2023 at 1:20:06 PM Coordinated Universal Time (2023-12-05T13:20:06Z)
                                                                                                    
Build FHIR IG from /tmp/ans.fr.securisation-transport#1.2.0                                          (00:00.017 / 00:00.017, 17Mb)
Build Formal Publication package, intended for https://interop.esante.gouv.fr/ig/securisation-transport/1.2.0 (00:00.003 / 00:00.021, 17Mb)
API keys loaded from /home/runner/.fhir/fhir-settings.json                                           (00:00.001 / 00:00.022, 17Mb)
Package Cache: /home/runner/.fhir/packages                                                           (00:00.003 / 00:00.026, 17Mb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.393 / 00:00.419, 47Mb)
Load Template from https://github.com/ansforge/IG-template                                           (00:00.366 / 00:00.786, 30Mb)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onLoad-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /tmp/ans.fr.securisation-transport#1.2.0                                             (00:03.051 / 00:03.837, 80Mb)
Core Package hl7.fhir.r4.core#4.0.1
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Terminology Cache is at /tmp/ans.fr.securisation-transport#1.2.0/input-cache/txcache. Clearing now   (00:04.724 / 00:08.561, 253Mb)
Connect to Terminology Server at http://tx.fhir.org                                                  (00:00.002 / 00:08.564, 253Mb)
Load Package hl7.fhir.pubpack#0.1.6
Load Package hl7.fhir.xver-extensions#0.0.12
Load Package hl7.terminology.r4#5.3.0
Load Package hl7.fhir.uv.extensions.r4#1.0.0
Version mismatch. This IG is version 4.0.1, while the IG 'hl7.fhir.uv.tools' is from version 5.0.0 (will try to run anyway) (00:03.677 / 00:12.241, 568Mb)
Load Package hl7.fhir.uv.tools#1.0.0-candidate
Load R5 Specials
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Initialization complete                                                                              (00:00.661 / 00:12.902, 550Mb)
Fetch https://interop.esante.gouv.fr/ig/securisation-transport/package-list.json for version check   (00:00.002 / 00:12.904, 550Mb)
Load Content                                                                                         (00:00.345 / 00:13.250, 551Mb)
loadPrePages from FetchedFile[/tmp/ans.fr.securisation-transport#1.2.0/fsh-generated/includes] as /tmp/ans.fr.securisation-transport#1.2.0/fsh-generated/includes
loadPrePages from FetchedFile[/tmp/ans.fr.securisation-transport#1.2.0/input/data] as /tmp/ans.fr.securisation-transport#1.2.0/input/data
loadPrePages from FetchedFile[/tmp/ans.fr.securisation-transport#1.2.0/input/pagecontent] as /tmp/ans.fr.securisation-transport#1.2.0/input/pagecontent
Processing Conformance Resources                                                                     (00:00.167 / 00:13.418, 576Mb)
Load Dependency Info                                                                                 (00:00.001 / 00:13.419, 576Mb)
Load Info                                                                                            (00:00.001 / 00:13.421, 576Mb)
Load Resources                                                                                       (00:00.001 / 00:13.422, 577Mb)
Load Paths                                                                                           (00:00.076 / 00:13.499, 596Mb)
Generating Snapshots                                                                                 (00:00.001 / 00:13.500, 596Mb)
Check R4 / R4B                                                                                       (00:00.005 / 00:13.505, 596Mb)
Assign Comparison Ids                                                                                (00:00.005 / 00:13.511, 597Mb)
Propagating status                                                                                   (00:00.001 / 00:13.512, 597Mb)
Generating Narratives                                                                                (00:00.001 / 00:13.513, 597Mb)
Validating Conformance Resources                                                                     (00:00.093 / 00:13.607, 619Mb)
Check profiles & code systems                                                                        (00:02.475 / 00:16.082, 880Mb)
Check realm rules                                                                                    (00:00.001 / 00:16.084, 880Mb)
Previous Version Comparison                                                                          (00:00.001 / 00:16.085, 880Mb)
Installing ans.fr.securisation-transport#1.1 to the package cache
  Fetching:
2023-12-05 13:20:23.099 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1 from server: https://packages.fhir.org (Invalid HTTP response 404 from https://packages.fhir.org/ans.fr.securisation-transport/1.1 (Not Found) (content in /tmp/http-log/fhir-http-2.log))
2023-12-05 13:20:23.143 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1 from server: https://packages2.fhir.org/packages (Invalid HTTP response 404 from https://packages2.fhir.org/packages/ans.fr.securisation-transport/1.1 (Not found) (content in /tmp/http-log/fhir-http-3.log))
Error fetching https://packages.fhir.org/ans.fr.securisation-transport: Invalid HTTP response 404 from https://packages.fhir.org/ans.fr.securisation-transport (Not Found) (content in /tmp/http-log/fhir-http-4.log)
2023-12-05 13:20:23.238 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1.x from server: https://packages.fhir.org (Package not found: ans.fr.securisation-transport)
2023-12-05 13:20:24.143 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1.x from server: https://packages2.fhir.org/packages (Package not found: ans.fr.securisation-transport)
org.hl7.fhir.exceptions.FHIRException: Unable to resolve package id ans.fr.securisation-transport#1.1
	at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.fetchTheOldWay(FilesystemPackageCacheManager.java:843)
	at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadFromPackageServer(FilesystemPackageCacheManager.java:325)
	at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadPackage(FilesystemPackageCacheManager.java:631)
	at org.hl7.fhir.igtools.publisher.comparators.PreviousVersionComparator.startChecks(PreviousVersionComparator.java:192)
	at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:5840)
	at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:5683)
	at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1128)
	at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:974)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12468)
	at org.hl7.fhir.igtools.web.PublicationProcess.runBuild(PublicationProcess.java:889)
	at org.hl7.fhir.igtools.web.PublicationProcess.doPublish(PublicationProcess.java:473)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner2(PublicationProcess.java:390)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner(PublicationProcess.java:231)
	at org.hl7.fhir.igtools.web.PublicationProcess.publish(PublicationProcess.java:123)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12222)
java.lang.NullPointerException: Cannot read the array length because "bytes" is null
	at java.base/java.lang.String.<init>(String.java:1433)
	at org.hl7.fhir.igtools.publisher.comparators.PreviousVersionComparator.finishChecks(PreviousVersionComparator.java:264)
	at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:5866)
	at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:5683)
	at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1128)
	at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:974)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12468)
	at org.hl7.fhir.igtools.web.PublicationProcess.runBuild(PublicationProcess.java:889)
	at org.hl7.fhir.igtools.web.PublicationProcess.doPublish(PublicationProcess.java:473)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner2(PublicationProcess.java:390)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner(PublicationProcess.java:231)
	at org.hl7.fhir.igtools.web.PublicationProcess.publish(PublicationProcess.java:123)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12222)
Validating Resources                                                                                 (00:01.806 / 00:17.892, 921Mb)
Processing Provenance Records                                                                        (00:00.001 / 00:17.893, 921Mb)
Generating Outputs in /tmp/ans.fr.securisation-transport#1.2.0/output                                (00:00.001 / 00:17.894, 921Mb)
Generate Native Outputs                                                                              (00:00.144 / 00:18.039, 320Mb)
Run Template                                                                                         (00:00.105 / 00:18.144, 337Mb)

onGenerate.checkVersions:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0/template/versions.txt
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onGenerate.getVersions.xslt

onGenerate.r5-schemas:
      [get] Getting: http://build.fhir.org/fhir-single.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R5/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R5/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R5/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R5/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r4-schemas:
      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R4/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R4/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R4/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0/input-cache/schemas/R4/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r3-schemas:

onGenerate.r2b-schemas:

onGenerate.r2-schemas:

onGenerate.schemas:

onGenerate.data:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0/temp/pages/_data/artifacts.json
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onGenerate.data.xslt

onGenerate.setup:

onGenerate.infoFile:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0/temp/pages/_data/info.json
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onGenerate.genJson.xslt

onGenerate.processIncludes:
     [copy] Copying 17 files to /tmp/ans.fr.securisation-transport#1.2.0/temp/pages/_includes

onGenerate.processIg:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.1.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onGenerate.group.xslt
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.1.xml to /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.2.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onGenerate.groupSort.xslt
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-working.2.xml to /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onGenerate.final.xslt

onGenerate.igQa:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-updated.xml to /tmp/ans.fr.securisation-transport#1.2.0/template/ongenerate-validation-igqa.json
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/onGenerate.qa.xslt

onGenerate.artifactList:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0/template/onGenerate-ig-updated.xml to /tmp/ans.fr.securisation-transport#1.2.0/temp/pages/_includes/artifacts.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0/template/scripts/createArtifactSummary.xslt

check-plantumlfiles:

onGenerate.plantUml.ig:

onGenerate.plantUml.template:

onGenerate.plantUml:

onGenerate.copyDataFiles:
     [copy] Warning: /tmp/ans.fr.securisation-transport#1.2.0/template/data does not exist.

onGenerate.extend:

onGenerate:
Template Done                                                                                        (00:02.216 / 00:20.361, 377Mb)
Generate HTML Outputs                                                                                (00:00.000 / 00:20.362, 377Mb)
Generate Summaries                                                                                   (00:00.128 / 00:20.490, 395Mb)
Generating Summary Outputs                                                                           (00:00.001 / 00:20.492, 395Mb)
ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...
DB Cumulative Time invested: 0:0:0.55
Sending Usage Stats to Server                                                                        (02:15.807 / 02:36.300, 1Gb)
## Memory (MB): Use = 1293, Free = 136, Total = 1430, Max = 3996                                     (00:00.014 / 02:36.314, 500Mb)
Reclaiming memory...                                                                                 (00:00.001 / 02:36.316, 501Mb)
## Memory (MB): Use = 457, Free = 972, Total = 1430, Max = 3996                                      (00:00.229 / 02:36.545, 458Mb)
Run jekyll: jekyll build --destination "/tmp/ans.fr.securisation-transport#1.2.0/output" (in folder /tmp/ans.fr.securisation-transport#1.2.0/temp/pages) (00:00.005 / 02:36.550, 459Mb)
Note: usual cases for Jekyll to fail are:                                                            (00:00.003 / 02:36.554, 459Mb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.001 / 02:36.555, 459Mb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.001 / 02:36.556, 459Mb)
Jekyll: Source: /tmp/ans.fr.securisation-transport#1.2.0/temp/pages                                  (00:00.327 / 02:36.884, 463Mb)
Jekyll: Generating...                                                                                (00:00.001 / 02:36.885, 463Mb)
Jekyll: done in 0.615 seconds.                                                                       (00:00.614 / 02:37.499, 463Mb)

Installing ans.fr.securisation-transport#1.2.0 done.
Checking Output HTML                                                                                 (00:00.519 / 02:38.019, 553Mb)
found 557 files                                                                                      (00:00.004 / 02:38.023, 553Mb)
..........................................
..........................................
  ... 557 html files, 0 pages invalid xhtml (0%)                                                     (00:00.581 / 02:38.605, 1Gb)
  ... 738 links, 1 broken links (0%)                                                                 (00:00.001 / 02:38.606, 1Gb)
Build final .zip                                                                                     (00:00.001 / 02:38.607, 1Gb)
Final .zip built                                                                                     (00:00.241 / 02:38.848, 1Gb)
Built. Times: loading: 00:00.166, generate: 02:26.743, narrative generation: 00:00.092, validation: 00:02.474, realm-rules: 00:00.001, previous-version: 00:01.797, jekyll: 00:00.959, template: 00:02.215 (#3) (00:01.313 / 02:40.162, 1Gb)
Validation output in /tmp/ans.fr.securisation-transport#1.2.0/output/qa.html
Errors: 1, Warnings: 4, Info: 0, Broken Links: 1 (00:00.077 / 02:40.240, 1Gb)
Finished. Max Memory Used = 1Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log                    (00:00.002 / 02:40.243, 1Gb)
Prepare Build space in /tmp/ans.fr.securisation-transport#1.2.0-milestone
Build IG at /home/runner/work/IG-securisation-transport-api-rest/IG-securisation-transport-api-rest/igRepo: final copy suitable for publication (in /tmp/ans.fr.securisation-transport#1.2.0-milestone) (milestone build)
FHIR IG Publisher Version 1.5.5 (Git# 3db07b9b9942). Built 2023-11-24T21:11:01.665Z (10 days old)   
Detected Java version: 17.0.7 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.7/x64 on Linux/amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-securisation-transport-api-rest/IG-securisation-transport-api-rest, path = /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.7/x64/bin:/home/runner/.dotnet:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -ig /tmp/ans.fr.securisation-transport#1.2.0-milestone -publish https://interop.esante.gouv.fr/ig/securisation-transport/1.2.0 -milestone -no-exit
Start Clock @ Tuesday, December 5, 2023 at 1:22:48 PM Coordinated Universal Time (2023-12-05T13:22:48Z)
                                                                                                    
Build FHIR IG from /tmp/ans.fr.securisation-transport#1.2.0-milestone                                (00:00.005 / 00:00.005, 1Gb)
Build Formal Publication package, intended for https://interop.esante.gouv.fr/ig/securisation-transport/1.2.0 (00:00.001 / 00:00.006, 1Gb)
API keys loaded from /home/runner/.fhir/fhir-settings.json                                           (00:00.001 / 00:00.007, 1Gb)
Package Cache: /home/runner/.fhir/packages                                                           (00:00.000 / 00:00.008, 1Gb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.005 / 00:00.014, 1Gb)
Load Template from https://github.com/ansforge/IG-template                                           (00:00.014 / 00:00.028, 1Gb)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onLoad-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /tmp/ans.fr.securisation-transport#1.2.0-milestone                                   (00:01.447 / 00:01.476, 633Mb)
Core Package hl7.fhir.r4.core#4.0.1
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Terminology Cache is at /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/txcache. 4 files in cache (00:02.456 / 00:03.932, 748Mb)
Connect to Terminology Server at http://tx.fhir.org                                                  (00:00.001 / 00:03.934, 748Mb)
Load Package hl7.fhir.pubpack#0.1.6
Load Package hl7.fhir.xver-extensions#0.0.12
Load Package hl7.terminology.r4#5.3.0
Load Package hl7.fhir.uv.extensions.r4#1.0.0
Version mismatch. This IG is version 4.0.1, while the IG 'hl7.fhir.uv.tools' is from version 5.0.0 (will try to run anyway) (00:03.153 / 00:07.087, 697Mb)
Load Package hl7.fhir.uv.tools#1.0.0-candidate
Load R5 Specials
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Initialization complete                                                                              (00:00.490 / 00:07.577, 837Mb)
Fetch https://interop.esante.gouv.fr/ig/securisation-transport/package-list.json for version check   (00:00.000 / 00:07.578, 837Mb)
Load Content                                                                                         (00:00.376 / 00:07.954, 838Mb)
loadPrePages from FetchedFile[/tmp/ans.fr.securisation-transport#1.2.0-milestone/fsh-generated/includes] as /tmp/ans.fr.securisation-transport#1.2.0-milestone/fsh-generated/includes
loadPrePages from FetchedFile[/tmp/ans.fr.securisation-transport#1.2.0-milestone/input/data] as /tmp/ans.fr.securisation-transport#1.2.0-milestone/input/data
loadPrePages from FetchedFile[/tmp/ans.fr.securisation-transport#1.2.0-milestone/input/pagecontent] as /tmp/ans.fr.securisation-transport#1.2.0-milestone/input/pagecontent
Processing Conformance Resources                                                                     (00:00.073 / 00:08.028, 861Mb)
Load Dependency Info                                                                                 (00:00.001 / 00:08.029, 861Mb)
Load Info                                                                                            (00:00.001 / 00:08.030, 861Mb)
Load Resources                                                                                       (00:00.000 / 00:08.031, 862Mb)
Load Paths                                                                                           (00:00.042 / 00:08.073, 880Mb)
Generating Snapshots                                                                                 (00:00.000 / 00:08.074, 880Mb)
Check R4 / R4B                                                                                       (00:00.001 / 00:08.075, 881Mb)
Assign Comparison Ids                                                                                (00:00.003 / 00:08.079, 881Mb)
Propagating status                                                                                   (00:00.001 / 00:08.080, 881Mb)
Generating Narratives                                                                                (00:00.001 / 00:08.081, 881Mb)
Validating Conformance Resources                                                                     (00:00.051 / 00:08.132, 900Mb)
Check profiles & code systems                                                                        (00:01.738 / 00:09.871, 654Mb)
Check realm rules                                                                                    (00:00.001 / 00:09.872, 654Mb)
Previous Version Comparison                                                                          (00:00.002 / 00:09.874, 654Mb)
Installing ans.fr.securisation-transport#1.1 to the package cache
  Fetching:
2023-12-05 13:22:58.455 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1 from server: https://packages.fhir.org (Invalid HTTP response 404 from https://packages.fhir.org/ans.fr.securisation-transport/1.1 (Not Found) (content in /tmp/http-log/fhir-http-5.log))
2023-12-05 13:22:58.495 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1 from server: https://packages2.fhir.org/packages (Invalid HTTP response 404 from https://packages2.fhir.org/packages/ans.fr.securisation-transport/1.1 (Not found) (content in /tmp/http-log/fhir-http-6.log))
Error fetching https://packages.fhir.org/ans.fr.securisation-transport: Invalid HTTP response 404 from https://packages.fhir.org/ans.fr.securisation-transport (Not Found) (content in /tmp/http-log/fhir-http-7.log)
2023-12-05 13:22:58.592 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1.x from server: https://packages.fhir.org (Package not found: ans.fr.securisation-transport)
2023-12-05 13:22:59.494 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:85] Failed to resolve package ans.fr.securisation-transport#1.1.x from server: https://packages2.fhir.org/packages (Package not found: ans.fr.securisation-transport)
org.hl7.fhir.exceptions.FHIRException: Unable to resolve package id ans.fr.securisation-transport#1.1
	at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.fetchTheOldWay(FilesystemPackageCacheManager.java:843)
	at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadFromPackageServer(FilesystemPackageCacheManager.java:325)
	at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadPackage(FilesystemPackageCacheManager.java:631)
	at org.hl7.fhir.igtools.publisher.comparators.PreviousVersionComparator.startChecks(PreviousVersionComparator.java:192)
	at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:5840)
	at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:5683)
	at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1128)
	at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:974)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12468)
	at org.hl7.fhir.igtools.web.PublicationProcess.runBuild(PublicationProcess.java:889)
	at org.hl7.fhir.igtools.web.PublicationProcess.doPublish(PublicationProcess.java:478)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner2(PublicationProcess.java:390)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner(PublicationProcess.java:231)
	at org.hl7.fhir.igtools.web.PublicationProcess.publish(PublicationProcess.java:123)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12222)
java.lang.NullPointerException: Cannot read the array length because "bytes" is null
	at java.base/java.lang.String.<init>(String.java:1433)
	at org.hl7.fhir.igtools.publisher.comparators.PreviousVersionComparator.finishChecks(PreviousVersionComparator.java:264)
	at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:5866)
	at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:5683)
	at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1128)
	at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:974)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12468)
	at org.hl7.fhir.igtools.web.PublicationProcess.runBuild(PublicationProcess.java:889)
	at org.hl7.fhir.igtools.web.PublicationProcess.doPublish(PublicationProcess.java:478)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner2(PublicationProcess.java:390)
	at org.hl7.fhir.igtools.web.PublicationProcess.publishInner(PublicationProcess.java:231)
	at org.hl7.fhir.igtools.web.PublicationProcess.publish(PublicationProcess.java:123)
	at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:12222)
Validating Resources                                                                                 (00:01.693 / 00:11.568, 693Mb)
Processing Provenance Records                                                                        (00:00.001 / 00:11.569, 693Mb)
Generating Outputs in /tmp/ans.fr.securisation-transport#1.2.0-milestone/output                      (00:00.000 / 00:11.569, 693Mb)
Generate Native Outputs                                                                              (00:00.081 / 00:11.651, 715Mb)
Run Template                                                                                         (00:00.077 / 00:11.729, 732Mb)

onGenerate.checkVersions:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/versions.txt
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onGenerate.getVersions.xslt

onGenerate.r5-schemas:
      [get] Getting: http://build.fhir.org/fhir-single.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R5/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R5/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R5/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R5/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r4-schemas:
      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R4/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R4/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xml.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R4/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.securisation-transport#1.2.0-milestone/input-cache/schemas/R4/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r3-schemas:

onGenerate.r2b-schemas:

onGenerate.r2-schemas:

onGenerate.schemas:

onGenerate.data:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/temp/pages/_data/artifacts.json
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onGenerate.data.xslt

onGenerate.setup:

onGenerate.infoFile:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/temp/pages/_data/info.json
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onGenerate.genJson.xslt

onGenerate.processIncludes:
     [copy] Copying 17 files to /tmp/ans.fr.securisation-transport#1.2.0-milestone/temp/pages/_includes

onGenerate.processIg:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.1.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onGenerate.group.xslt
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.1.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.2.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onGenerate.groupSort.xslt
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-working.2.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onGenerate.final.xslt

onGenerate.igQa:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-updated.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/ongenerate-validation-igqa.json
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/onGenerate.qa.xslt

onGenerate.artifactList:
     [xslt] Processing /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/onGenerate-ig-updated.xml to /tmp/ans.fr.securisation-transport#1.2.0-milestone/temp/pages/_includes/artifacts.xml
     [xslt] Loading stylesheet /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/scripts/createArtifactSummary.xslt

check-plantumlfiles:

onGenerate.plantUml.ig:

onGenerate.plantUml.template:

onGenerate.plantUml:

onGenerate.copyDataFiles:
     [copy] Warning: /tmp/ans.fr.securisation-transport#1.2.0-milestone/template/data does not exist.

onGenerate.extend:

onGenerate:
Template Done                                                                                        (00:01.958 / 00:13.688, 764Mb)
Generate HTML Outputs                                                                                (00:00.000 / 00:13.689, 764Mb)
Generate Summaries                                                                                   (00:00.031 / 00:13.721, 780Mb)
Generating Summary Outputs                                                                           (00:00.001 / 00:13.722, 780Mb)
DB Cumulative Time invested: 0:0:0.43
Sending Usage Stats to Server                                                                        (00:03.853 / 00:17.575, 1Gb)
## Memory (MB): Use = 1036, Free = 1057, Total = 2094, Max = 3996                                    (00:00.001 / 00:17.576, 1Gb)
Reclaiming memory...                                                                                 (00:00.000 / 00:17.577, 1Gb)
## Memory (MB): Use = 458, Free = 1089, Total = 1548, Max = 3996                                     (00:00.228 / 00:17.805, 459Mb)
Run jekyll: jekyll build --destination "/tmp/ans.fr.securisation-transport#1.2.0-milestone/output" (in folder /tmp/ans.fr.securisation-transport#1.2.0-milestone/temp/pages) (00:00.001 / 00:17.806, 459Mb)
Note: usual cases for Jekyll to fail are:                                                            (00:00.001 / 00:17.807, 459Mb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.000 / 00:17.808, 459Mb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.000 / 00:17.809, 459Mb)
Jekyll: Source: /tmp/ans.fr.securisation-transport#1.2.0-milestone/temp/pages                        (00:00.312 / 00:18.121, 460Mb)
Jekyll: Generating...                                                                                (00:00.000 / 00:18.122, 460Mb)
Jekyll: done in 0.61 seconds.                                                                        (00:00.609 / 00:18.731, 460Mb)

Installing ans.fr.securisation-transport#1.2.0Checking Output HTML                                                                                 (00:00.058 / 00:18.789, 480Mb)
found 557 files                                                                                      (00:00.003 / 00:18.792, 480Mb)
..........................................
..........................................
  ... 557 html files, 0 pages invalid xhtml (0%)                                                     (00:00.340 / 00:19.133, 972Mb)
  ... 738 links, 1 broken links (0%)                                                                 (00:00.000 / 00:19.134, 973Mb)
Build final .zip                                                                                     (00:00.000 / 00:19.134, 973Mb)
Final .zip built                                                                                     (00:00.231 / 00:19.366, 977Mb)
Built. Times: loading: 00:00.072, generate: 00:12.486, narrative generation: 00:00.050, validation: 00:01.737, realm-rules: 00:00.002, previous-version: 00:01.689, jekyll: 00:00.932, template: 00:01.957 (#3) (00:01.167 / 00:20.533, 1Gb)
Validation output in /tmp/ans.fr.securisation-transport#1.2.0-milestone/output/qa.html
Errors: 1, Warnings: 4, Info: 0, Broken Links: 1 (00:00.041 / 00:20.574, 1Gb)
Finished. Max Memory Used = 1Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log                    (00:00.001 / 00:20.576, 1Gb)
Keep a copy of the build directory at /tmp/web-root/run-20231205/ig-build-zips/ans.fr.securisation-transport#1.2.0.zip

ok. All checks passed. Publish v1.2.0 to /tmp/web-root/run-20231205/securisation-transport/1.2.0
Copy the IG to /tmp/web-root/run-20231205/securisation-transport/1.2.0
Update /tmp/web-root/run-20231205/securisation-transport/package-list.json
Publish Box Statement: This page is part of the Sécurisation de la couche transport API REST (v1.2.0: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version in its permanent home (it will always be available at this URL).  For a full list of available versions, see the <a no-external="true" href="https://interop.esante.gouv.fr/ig/securisation-transport/history.html">Directory of published versions</a>
  .. 15 files checked, 15 updated
  .. 5 clones checked, 10 updated
  .. 1 redirections (1 created/updated)
This is a milestone release - publish v1.2.0 to /tmp/web-root/run-20231205/securisation-transport
Publish Box Statement: This page is part of the Sécurisation de la couche transport API REST (v1.2.0: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a no-external="true" href="https://interop.esante.gouv.fr/ig/securisation-transport/history.html">Directory of published versions</a>
  .. 15 files checked, 15 updated
  .. 5 clones checked, 10 updated
  .. 1 redirections (1 created/updated)
Check for Files to delete
  ... 0 files
Copy to new IG to /tmp/web-root/run-20231205/securisation-transport
Update history page at /tmp/web-root/run-20231205/securisation-transport from /home/runner/work/IG-securisation-transport-api-rest/IG-securisation-transport-api-rest/./IG-website-release/fhir-ig-history-template and ./IG-website-release/templates
Build is complete. Copy from /tmp/web-root/run-20231205
ans.fr.securisation-transport (https://interop.esante.gouv.fr/ig/securisation-transport): Sécurisation de la couche transport API REST @ https://ansforge.github.io/IG-securisation-transport-api-rest/ig/main
  release: trial-use 1.2.0/4.0.1 @ https://interop.esante.gouv.fr/ig/securisation-transport/1.2.0
