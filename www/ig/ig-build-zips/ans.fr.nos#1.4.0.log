FHIR IG Publisher Version 1.6.11 (Git# c24a6a19351a). Built 2024-06-07T06:35:31.259Z (154 days old)
Detected Java version: 11.0.25 from /usr/lib/jvm/temurin-11-jdk-amd64 on amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-NOS/IG-NOS, path = /snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -go-publish -source igRepo -web ./IG-website-release/www/ig -registry ./IG-website-release/ig-registry/fhir-ig-list.json -history ./IG-website-release/fhir-ig-history-template -templates ./IG-website-release/templates -temp /home/runner/work/publication/temp
---------------
Publication Run: publish igRepo to ./IG-website-release/www/ig
Run Number: 15
Relative directory for IG is '/nos'
===== Web Publication Run Details ===============================
 Source IG: ans.fr.nos#1.4.0 : https://interop.esante.gouv.fr/ig/nos (R4) from igRepo
All checks passed. Do the publication build from /home/runner/work/IG-NOS/IG-NOS/igRepo and publish to /home/runner/work/publication/temp/web-root/run-20241108/nos
Prepare Build space in /home/runner/work/publication/temp/ans.fr.nos#1.4.0
Build IG at /home/runner/work/IG-NOS/IG-NOS/igRepo: final copy suitable for publication (in /home/runner/work/publication/temp/ans.fr.nos#1.4.0)
FHIR IG Publisher Version 1.6.11 (Git# c24a6a19351a). Built 2024-06-07T06:35:31.259Z (154 days old) 
Detected Java version: 11.0.25 from /usr/lib/jvm/temurin-11-jdk-amd64 on Linux/amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-NOS/IG-NOS, path = /snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -ig /home/runner/work/publication/temp/ans.fr.nos#1.4.0 -resetTx -publish https://interop.esante.gouv.fr/ig/nos/1.4.0 -no-exit
Start Clock @ Friday, November 8, 2024 at 11:50:00 AM Coordinated Universal Time (2024-11-08T11:50:00Z)
                                                                                                    
Build FHIR IG from /home/runner/work/publication/temp/ans.fr.nos#1.4.0                               (00:00.029 / 00:00.030, 383Mb)
Build Formal Publication package, intended for https://interop.esante.gouv.fr/ig/nos/1.4.0           (00:00.016 / 00:00.045, 384Mb)
API keys loaded from /home/runner/.fhir/fhir-settings.json                                           (00:00.001 / 00:00.046, 384Mb)
Package Cache: /home/runner/.fhir/packages                                                           (00:00.004 / 00:00.051, 385Mb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.547 / 00:00.599, 121Mb)
Load Template from https://github.com/ansforge/IG-template-Nos                                       (00:00.971 / 00:01.570, 128Mb)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onLoad-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /home/runner/work/publication/temp/ans.fr.nos#1.4.0                                  (00:03.498 / 00:05.069, 160Mb)
Terminology Cache is at /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/txcache. Clearing now (00:01.876 / 00:06.946, 141Mb)
Core Package hl7.fhir.r4.core#4.0.1
Running Terminology Log: /tmp/ohfu-fhir-ig-3628385648751176238.log
Connect to Terminology Server at http://tx.fhir.org                                                  (00:04.728 / 00:11.675, 454Mb)
Load Package hl7.fhir.pubpack#0.1.7
Load Package hl7.fhir.xver-extensions#0.1.0
Load Package hl7.terminology.r4#6.0.2
Load Package hl7.fhir.uv.extensions.r4#5.1.0
Version mismatch. This IG is version 4.0.1, while the IG 'hl7.fhir.uv.tools' is from version 5.0.0 (will try to run anyway) (00:05.281 / 00:16.956, 653Mb)
Load Package hl7.fhir.uv.tools#0.2.0
Load R5 Specials
Initialization complete                                                                              (00:00.519 / 00:17.476, 372Mb)
Load Content                                                                                         (00:00.001 / 00:17.477, 372Mb)
loadPrePages from FetchedFile[/home/runner/work/publication/temp/ans.fr.nos#1.4.0/fsh-generated/includes] as /home/runner/work/publication/temp/ans.fr.nos#1.4.0/fsh-generated/includes
loadPrePages from FetchedFile[/home/runner/work/publication/temp/ans.fr.nos#1.4.0/input/data] as /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input/data
loadPrePages from FetchedFile[/home/runner/work/publication/temp/ans.fr.nos#1.4.0/input/pagecontent] as /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input/pagecontent
Fetch https://interop.esante.gouv.fr/ig/nos/package-list.json for version check                      (00:05.062 / 00:22.540, 676Mb)
Processing Conformance Resources                                                                     (00:00.675 / 00:23.215, 719Mb)
Load Dependency Info                                                                                 (00:00.011 / 00:23.227, 721Mb)
Load Info                                                                                            (00:00.004 / 00:23.231, 721Mb)
Load Resources                                                                                       (00:00.002 / 00:23.234, 722Mb)
Load Paths                                                                                           (00:03.407 / 00:26.641, 859Mb)
Generating Snapshots                                                                                 (00:00.001 / 00:26.643, 859Mb)
Check R4 / R4B                                                                                       (00:00.001 / 00:26.644, 859Mb)
Assign Comparison Ids                                                                                (00:00.754 / 00:27.399, 845Mb)
Propagating status                                                                                   (00:00.002 / 00:27.401, 845Mb)
Generating Narratives                                                                                (00:00.001 / 00:27.402, 845Mb)
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5571046]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5571063]
Error from http://tx.fhir.org/r4: Unable to provide support for code system http://snomed.info/sct [x-request-id: 168-5571278]
Error from http://tx.fhir.org/r4: Unable to provide support for code system http://snomed.info/sct [x-request-id: 168-5571294]
Error from http://tx.fhir.org/r4: Unable to provide support for code system http://snomed.info/sct [x-request-id: 168-5571707]
Error from http://tx.fhir.org/r4: Unable to provide support for code system http://snomed.info/sct [x-request-id: 168-5571721]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5571955]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5571970]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5572169]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5572186]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572224]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572238]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572255]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572272]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572288]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572305]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572321]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5572337]
Validating Conformance Resources                                                                     (00:38.537 / 01:05.940, 1Gb)
Check profiles & code systems                                                                        (00:33.539 / 01:39.479, 1Gb)
Check realm rules                                                                                    (00:00.026 / 01:39.506, 1Gb)
Previous Version Comparison                                                                          (00:00.002 / 01:39.508, 1Gb)
Validating Resources                                                                                 (00:11.323 / 01:50.832, 1Gb)
Processing Provenance Records                                                                        (00:00.002 / 01:50.834, 1Gb)
Generating Outputs in /home/runner/work/publication/temp/ans.fr.nos#1.4.0/output                     (00:00.001 / 01:50.835, 1Gb)
Generate Native Outputs                                                                              (00:00.239 / 01:51.075, 1Gb)
Run Template                                                                                         (01:58.101 / 03:49.176, 1Gb)

onGenerate.checkVersions:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/versions.txt
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/onGenerate.getVersions.xslt

onGenerate.r5-schemas:
      [get] Getting: http://build.fhir.org/fhir-single.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R5/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R5/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R5/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R5/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r4-schemas:
      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R4/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R4/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R4/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/input-cache/schemas/R4/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r3-schemas:

onGenerate.r2b-schemas:

onGenerate.r2-schemas:

onGenerate.schemas:

onGenerate.data:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/tmp/_data/artifacts.json
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/onGenerate.data.xslt

onGenerate.setup:

onGenerate.infoFile:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/tmp/_data/info.json
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/onGenerate.genJson.xslt

onGenerate.processIncludes:
     [copy] Copying 18 files to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/tmp/_includes

onGenerate.processIg:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-working.1.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/onGenerate.group.xslt
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-working.1.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-updated.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/onGenerate.final.xslt

onGenerate.igQa:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-updated.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/ongenerate-validation-igqa.json
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/onGenerate.qa.xslt

onGenerate.artifactList:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/onGenerate-ig-updated.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0/tmp/_includes/artifacts.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0/template/scripts/createArtifactSummary.xslt

check-plantumlfiles:

onGenerate.plantUml.ig:

onGenerate.plantUml.template:

onGenerate.plantUml:

onGenerate.copyDataFiles:

onGenerate.extend:

onGenerate:
Template Done                                                                                        (00:02.641 / 03:51.818, 1Gb)
Generate HTML Outputs                                                                                (00:00.001 / 03:51.819, 1Gb)
ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5580190]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5580207]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 168-5580287]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/fhir/CodeSystem/1.2.250.1.213.1.1.4.322 [x-request-id: 168-5580651]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 168-5580712]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/fhir/CodeSystem/1.2.250.1.213.1.1.4.322 [x-request-id: 168-5580860]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5580936]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5580953]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5581686]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-ncit [x-request-id: 168-5581699]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581731]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581742]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581757]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581770]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581782]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581792]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581803]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-SERAFINPH/ [x-request-id: 168-5581812]
Generate Summaries                                                                                   (01:10.248 / 05:02.068, 2Gb)
Generating Summary Outputs                                                                           (00:00.001 / 05:02.069, 2Gb)
Table of contents has a section with more than 222 entries.  Collapsing will not work reliably
DB Cumulative Time invested: 00:01:41.143
Sending Usage Stats to Server                                                                        (00:10.775 / 05:12.844, 2Gb)
## Memory (MB): Use = 2148, Free = 269, Total = 2418, Max = 3996                                     (00:00.005 / 05:12.850, 2Gb)
Reclaiming memory...                                                                                 (00:00.000 / 05:12.851, 2Gb)
## Memory (MB): Use = 1912, Free = 1279, Total = 3192, Max = 3996                                    (00:01.205 / 05:14.057, 1Gb)
Run jekyll: jekyll build --destination "/home/runner/work/publication/temp/ans.fr.nos#1.4.0/output" (in folder /home/runner/work/publication/temp/ans.fr.nos#1.4.0/tmp) (00:00.005 / 05:14.062, 1Gb)
Troubleshooting Note: usual cases for Jekyll to fail are:                                            (00:00.005 / 05:14.067, 1Gb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.000 / 05:14.068, 1Gb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.001 / 05:14.069, 1Gb)
Jekyll: Source: /home/runner/work/publication/temp/ans.fr.nos#1.4.0/tmp                              (00:00.337 / 05:14.407, 1Gb)
Jekyll: Generating...                                                                                (00:00.001 / 05:14.409, 1Gb)
Jekyll: done in 9.634 seconds.                                                                       (00:09.632 / 05:24.042, 1Gb)

Installing ans.fr.nos#1.4.0 done.
Checking Output HTML                                                                                 (00:12.760 / 05:36.802, 2Gb)
found 5123 files                                                                                     (00:00.023 / 05:36.825, 2Gb)
........................................
........................................
  ... 5123 html files, 0 pages invalid xhtml (0%)                                                    (00:43.183 / 06:20.009, 2Gb)
  ... 1316751 links, 7610 broken links (0%)                                                          (00:00.001 / 06:20.011, 2Gb)
Generate fragment-usage-analysis.csv                                                                 (00:00.000 / 06:20.011, 2Gb)
Build final .zip                                                                                     (00:00.009 / 06:20.021, 2Gb)
Final .zip built                                                                                     (00:09.574 / 06:29.596, 2Gb)
Built. Times: loading: 00:05.736, generate: 06:14.025, narrative generation: 00:38.536, realm-rules: 00:00.002, previous-version: 00:11.224, jekyll: 00:10.045, validation: 00:33.521 (#506), template: 00:02.641 (#3) (00:08.098 / 06:37.694, 2Gb)
Generating QA                                                                                        (00:00.001 / 06:37.696, 2Gb)
Sending usage stats failed: Connection timed out (Connection timed out)
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.cha', err = 'The <script> containing the javascript 'try {       var curr'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.cha', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.cha', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.cha', err = 'The <script> containing the javascript 'anchors.options.visi'... is illegal and not allowed on the H'
Validation output in /home/runner/work/publication/temp/ans.fr.nos#1.4.0/output/qa.html
Errors: 1047, Warnings: 37421, Info: 1023, Broken Links: 7610 (03:40.560 / 10:18.256, 3Gb)
Finished. Max Memory Used = 3Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log                    (00:00.067 / 10:18.324, 3Gb)
Prepare Build space in /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone
Build IG at /home/runner/work/IG-NOS/IG-NOS/igRepo: final copy suitable for publication (in /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone) (milestone build)
FHIR IG Publisher Version 1.6.11 (Git# c24a6a19351a). Built 2024-06-07T06:35:31.259Z (154 days old) 
Detected Java version: 11.0.25 from /usr/lib/jvm/temurin-11-jdk-amd64 on Linux/amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-NOS/IG-NOS, path = /snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -ig /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone -publish https://interop.esante.gouv.fr/ig/nos/1.4.0 -milestone -no-exit
Start Clock @ Friday, November 8, 2024 at 12:00:26 PM Coordinated Universal Time (2024-11-08T12:00:26Z)
                                                                                                    
Build FHIR IG from /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone                     (00:00.002 / 00:00.002, 1Gb)
Build Formal Publication package, intended for https://interop.esante.gouv.fr/ig/nos/1.4.0           (00:00.000 / 00:00.003, 1Gb)
API keys loaded from /home/runner/.fhir/fhir-settings.json                                           (00:00.001 / 00:00.004, 1Gb)
Package Cache: /home/runner/.fhir/packages                                                           (00:00.000 / 00:00.005, 1Gb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.005 / 00:00.011, 1Gb)
Load Template from https://github.com/ansforge/IG-template-Nos                                       (00:00.019 / 00:00.030, 1Gb)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onLoad-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone                        (00:02.393 / 00:02.424, 2Gb)
Terminology Cache is at /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/txcache. 14 files in cache (00:01.638 / 00:04.063, 2Gb)
Core Package hl7.fhir.r4.core#4.0.1
Running Terminology Log: /tmp/ohfu-fhir-ig-10137339476377785230.log
Connect to Terminology Server at http://tx.fhir.org                                                  (00:01.284 / 00:05.347, 2Gb)
Load Package hl7.fhir.pubpack#0.1.7
Load Package hl7.fhir.xver-extensions#0.1.0
Load Package hl7.terminology.r4#6.0.2
Load Package hl7.fhir.uv.extensions.r4#5.1.0
Version mismatch. This IG is version 4.0.1, while the IG 'hl7.fhir.uv.tools' is from version 5.0.0 (will try to run anyway) (00:03.591 / 00:08.938, 2Gb)
Load Package hl7.fhir.uv.tools#0.2.0
Load R5 Specials
Initialization complete                                                                              (00:00.374 / 00:09.312, 2Gb)
Load Content                                                                                         (00:00.000 / 00:09.313, 2Gb)
loadPrePages from FetchedFile[/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/fsh-generated/includes] as /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/fsh-generated/includes
loadPrePages from FetchedFile[/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input/data] as /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input/data
loadPrePages from FetchedFile[/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input/pagecontent] as /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input/pagecontent
Fetch https://interop.esante.gouv.fr/ig/nos/package-list.json for version check                      (00:02.965 / 00:12.278, 774Mb)
Processing Conformance Resources                                                                     (00:00.582 / 00:12.860, 813Mb)
Load Dependency Info                                                                                 (00:00.008 / 00:12.869, 815Mb)
Load Info                                                                                            (00:00.002 / 00:12.872, 815Mb)
Load Resources                                                                                       (00:00.001 / 00:12.873, 815Mb)
Load Paths                                                                                           (00:02.164 / 00:15.038, 1Gb)
Generating Snapshots                                                                                 (00:00.001 / 00:15.039, 1Gb)
Check R4 / R4B                                                                                       (00:00.001 / 00:15.040, 1Gb)
Assign Comparison Ids                                                                                (00:00.341 / 00:15.382, 1Gb)
Propagating status                                                                                   (00:00.001 / 00:15.383, 1Gb)
Generating Narratives                                                                                (00:00.000 / 00:15.383, 1Gb)
Validating Conformance Resources                                                                     (00:03.393 / 00:18.777, 1Gb)
Check profiles & code systems                                                                        (00:19.578 / 00:38.356, 2Gb)
Check realm rules                                                                                    (00:00.008 / 00:38.365, 2Gb)
Previous Version Comparison                                                                          (00:00.001 / 00:38.366, 2Gb)
Validating Resources                                                                                 (00:06.951 / 00:45.318, 2Gb)
Processing Provenance Records                                                                        (00:00.002 / 00:45.320, 2Gb)
Generating Outputs in /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output           (00:00.000 / 00:45.321, 2Gb)
Generate Native Outputs                                                                              (00:00.128 / 00:45.450, 2Gb)
Run Template                                                                                         (01:48.848 / 02:34.298, 1Gb)

onGenerate.checkVersions:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/versions.txt
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/onGenerate.getVersions.xslt

onGenerate.r5-schemas:
      [get] Getting: http://build.fhir.org/fhir-single.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R5/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R5/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R5/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R5/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r4-schemas:
      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R4/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R4/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xml.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R4/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd
      [get] To: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/input-cache/schemas/R4/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r3-schemas:

onGenerate.r2b-schemas:

onGenerate.r2-schemas:

onGenerate.schemas:

onGenerate.data:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/tmp/_data/artifacts.json
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/onGenerate.data.xslt

onGenerate.setup:

onGenerate.infoFile:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/tmp/_data/info.json
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/onGenerate.genJson.xslt

onGenerate.processIncludes:
     [copy] Copying 18 files to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/tmp/_includes

onGenerate.processIg:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-working.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-working.1.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/onGenerate.group.xslt
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-working.1.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-updated.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/onGenerate.final.xslt

onGenerate.igQa:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-updated.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/ongenerate-validation-igqa.json
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/onGenerate.qa.xslt

onGenerate.artifactList:
     [xslt] Processing /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/onGenerate-ig-updated.xml to /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/tmp/_includes/artifacts.xml
     [xslt] Loading stylesheet /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/template/scripts/createArtifactSummary.xslt

check-plantumlfiles:

onGenerate.plantUml.ig:

onGenerate.plantUml.template:

onGenerate.plantUml:

onGenerate.copyDataFiles:

onGenerate.extend:

onGenerate:
Template Done                                                                                        (00:02.142 / 02:36.440, 1Gb)
Generate HTML Outputs                                                                                (00:00.001 / 02:36.441, 1Gb)
Generate Summaries                                                                                   (00:34.541 / 03:10.983, 2Gb)
Generating Summary Outputs                                                                           (00:00.000 / 03:10.984, 2Gb)
Table of contents has a section with more than 222 entries.  Collapsing will not work reliably
DB Cumulative Time invested: 00:01:31.850
Sending Usage Stats to Server                                                                        (00:11.271 / 03:22.256, 2Gb)
## Memory (MB): Use = 3000, Free = 595, Total = 3596, Max = 3996                                     (00:00.001 / 03:22.257, 2Gb)
Reclaiming memory...                                                                                 (00:00.000 / 03:22.258, 2Gb)
## Memory (MB): Use = 1913, Free = 1682, Total = 3596, Max = 3996                                    (00:01.285 / 03:23.543, 1Gb)
Run jekyll: jekyll build --destination "/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output" (in folder /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/tmp) (00:00.001 / 03:23.545, 1Gb)
Troubleshooting Note: usual cases for Jekyll to fail are:                                            (00:00.001 / 03:23.546, 1Gb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.000 / 03:23.547, 1Gb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.000 / 03:23.547, 1Gb)
Jekyll: Source: /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/tmp                    (00:00.346 / 03:23.893, 1Gb)
Jekyll: Generating...                                                                                (00:00.001 / 03:23.895, 1Gb)
Jekyll: done in 9.537 seconds.                                                                       (00:09.535 / 03:33.431, 1Gb)

Installing ans.fr.nos#1.4.0Checking Output HTML                                                                                 (00:10.886 / 03:44.317, 3Gb)
found 5123 files                                                                                     (00:00.022 / 03:44.340, 3Gb)
........................................
........................................
  ... 5123 html files, 0 pages invalid xhtml (0%)                                                    (00:41.721 / 04:26.061, 2Gb)
  ... 1316751 links, 7610 broken links (0%)                                                          (00:00.000 / 04:26.062, 2Gb)
Generate fragment-usage-analysis.csv                                                                 (00:00.000 / 04:26.063, 2Gb)
Build final .zip                                                                                     (00:00.008 / 04:26.072, 2Gb)
Final .zip built                                                                                     (00:09.476 / 04:35.548, 2Gb)
Built. Times: loading: 00:03.546, generate: 04:30.186, narrative generation: 00:03.393, realm-rules: 00:00.001, previous-version: 00:06.904, jekyll: 00:09.958, validation: 00:19.563 (#506), template: 00:02.141 (#3) (00:07.554 / 04:43.103, 2Gb)
Generating QA                                                                                        (00:00.001 / 04:43.104, 2Gb)
Sending usage stats failed: Connection timed out (Connection timed out)
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output/CodeSystem-TRE-A00-ProducteurDo', err = 'The <script> containing the javascript 'try {       var curr'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output/CodeSystem-TRE-A00-ProducteurDo', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output/CodeSystem-TRE-A00-ProducteurDo', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output/CodeSystem-TRE-A00-ProducteurDo', err = 'The <script> containing the javascript 'anchors.options.visi'... is illegal and not allowed on the H'
Validation output in /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output/qa.html
Errors: 1047, Warnings: 37421, Info: 1023, Broken Links: 7610 (03:41.412 / 08:24.517, 2Gb)
Finished. Max Memory Used = 3Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log                    (00:00.059 / 08:24.577, 2Gb)
Keep a copy of the build directory at /home/runner/work/publication/temp/web-root/run-20241108/ig-build-zips/ans.fr.nos#1.4.0.zip

ok. All checks passed. Publish v1.4.0 to /home/runner/work/publication/temp/web-root/run-20241108/nos/1.4.0
Copy the IG to /home/runner/work/publication/temp/web-root/run-20241108/nos/1.4.0
Update /home/runner/work/publication/temp/web-root/run-20241108/nos/package-list.json
Publish Box Statement: This page is part of the Guide d'implémentation des NOS (v1.4.0: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version in its permanent home (it will always be available at this URL).  For a full list of available versions, see the <a no-external="true" href="https://interop.esante.gouv.fr/ig/nos/history.html">Directory of published versions</a>
no html insert in /home/runner/work/publication/temp/web-root/run-20241108/nos/1.4.0/qa-txservers.html
  .. 2554 files checked, 2554 updated
  .. 2003 clones checked, 4006 updated
  .. 506 redirections (506 created/updated)
This is a milestone release - publish v1.4.0 to /home/runner/work/publication/temp/web-root/run-20241108/nos
Publish Box Statement: This page is part of the Guide d'implémentation des NOS (v1.4.0: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a no-external="true" href="https://interop.esante.gouv.fr/ig/nos/history.html">Directory of published versions</a>
no html insert in /home/runner/work/publication/temp/ans.fr.nos#1.4.0-milestone/output/qa-txservers.html
  .. 2554 files checked, 2554 updated
  .. 2003 clones checked, 4006 updated
  .. 506 redirections (506 created/updated)
Check for Files to delete
  ... 0 files
Copy to new IG to /home/runner/work/publication/temp/web-root/run-20241108/nos
Update history page at /home/runner/work/publication/temp/web-root/run-20241108/nos from /home/runner/work/IG-NOS/IG-NOS/./IG-website-release/fhir-ig-history-template and ./IG-website-release/templates
Build is complete. Copy from /home/runner/work/publication/temp/web-root/run-20241108
ans.fr.nos (https://interop.esante.gouv.fr/ig/nos): Guide d'implémentation des NOS @ https://ansforge.github.io/IG-NOS/ig/main
  release: release 1.4.0/4.0.1 @ https://interop.esante.gouv.fr/ig/nos/1.4.0
