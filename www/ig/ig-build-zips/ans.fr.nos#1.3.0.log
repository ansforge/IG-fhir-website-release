FHIR IG Publisher Version 1.6.20 (Git# 7bbd1ce5defe). Built 2024-08-13T18:33:37.376Z (8 days old)
Detected Java version: 17.0.10 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64 on amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-NOS/IG-NOS, path = /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64/bin:/home/runner/.dotnet:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -go-publish -source igRepo -web ./IG-website-release/www/ig -registry ./IG-website-release/ig-registry/fhir-ig-list.json -history ./IG-website-release/fhir-ig-history-template -templates ./IG-website-release/templates
---------------
Publication Run: publish igRepo to ./IG-website-release/www/ig
Run Number: 14
Relative directory for IG is '/nos'
===== Web Publication Run Details ===============================
 Source IG: ans.fr.nos#1.3.0 : https://interop.esante.gouv.fr/ig/nos (R4) from igRepo
All checks passed. Do the publication build from /home/runner/work/IG-NOS/IG-NOS/igRepo and publish to /tmp/web-root/run-20240822/nos
Prepare Build space in /tmp/ans.fr.nos#1.3.0
Build IG at /home/runner/work/IG-NOS/IG-NOS/igRepo: final copy suitable for publication (in /tmp/ans.fr.nos#1.3.0)
FHIR IG Publisher Version 1.6.20 (Git# 7bbd1ce5defe). Built 2024-08-13T18:33:37.376Z (8 days old)   
Detected Java version: 17.0.10 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64 on Linux/amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-NOS/IG-NOS, path = /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64/bin:/home/runner/.dotnet:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -ig /tmp/ans.fr.nos#1.3.0 -resetTx -publish https://interop.esante.gouv.fr/ig/nos/1.2.0 -no-exit
Start Clock @ Thursday, August 22, 2024 at 10:28:07 AM Coordinated Universal Time (2024-08-22T10:28:07Z)
                                                                                                    
Build FHIR IG from /tmp/ans.fr.nos#1.3.0                                                             (00:00.019 / 00:00.020, 424Mb)
Build Formal Publication package, intended for https://interop.esante.gouv.fr/ig/nos/1.2.0           (00:00.003 / 00:00.023, 424Mb)
API keys loaded from /home/runner/.fhir/fhir-settings.json                                           (00:00.001 / 00:00.024, 424Mb)
Package Cache: /home/runner/.fhir/packages                                                           (00:00.003 / 00:00.027, 424Mb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.459 / 00:00.487, 128Mb)
Load Template from https://github.com/ansforge/IG-template-Nos                                       (00:00.524 / 00:01.012, 112Mb)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onLoad-ig-working.xml to /tmp/ans.fr.nos#1.3.0/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /tmp/ans.fr.nos#1.3.0                                                                (00:03.122 / 00:04.135, 121Mb)
Terminology Cache is at /tmp/ans.fr.nos#1.3.0/input-cache/txcache. Clearing now                      (00:01.734 / 00:05.869, 176Mb)
Core Package hl7.fhir.r4.core#4.0.1
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Running Terminology Log: /tmp/ohfu-fhir-ig-17102537381369106747.log
Connect to Terminology Server at http://tx.fhir.org                                                  (00:02.918 / 00:08.787, 523Mb)
Load Package hl7.fhir.pubpack#0.1.8
Load Package hl7.fhir.xver-extensions#0.1.0
Load Package hl7.terminology.r4#6.0.2
Load Package hl7.fhir.uv.extensions.r4#5.1.0
Version mismatch. This IG is version 4.0.1, while the IG 'hl7.fhir.uv.tools' is from version 5.0.0 (will try to run anyway) (00:03.670 / 00:12.458, 645Mb)
Load Package hl7.fhir.uv.tools#0.2.0
Load R5 Specials
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Initialization complete                                                                              (00:00.616 / 00:13.075, 512Mb)
Load Content                                                                                         (00:00.001 / 00:13.076, 512Mb)
Using en-US as the default narrative language. (no language information in Implementation Guide or command line (00:00.154 / 00:13.230, 538Mb)
loadPrePages from FetchedFile[/tmp/ans.fr.nos#1.3.0/fsh-generated/includes] as /tmp/ans.fr.nos#1.3.0/fsh-generated/includes
loadPrePages from FetchedFile[/tmp/ans.fr.nos#1.3.0/input/data] as /tmp/ans.fr.nos#1.3.0/input/data
loadPrePages from FetchedFile[/tmp/ans.fr.nos#1.3.0/input/pagecontent] as /tmp/ans.fr.nos#1.3.0/input/pagecontent
Fetch https://interop.esante.gouv.fr/ig/nos/package-list.json for version check                      (00:03.909 / 00:17.139, 697Mb)
Processing Conformance Resources                                                                     (00:00.703 / 00:17.843, 737Mb)
Load Dependency Info                                                                                 (00:00.016 / 00:17.860, 739Mb)
Load Info                                                                                            (00:00.005 / 00:17.865, 739Mb)
Load Resources                                                                                       (00:00.002 / 00:17.867, 739Mb)
Load Paths                                                                                           (00:02.878 / 00:20.746, 835Mb)
Generating Snapshots                                                                                 (00:00.001 / 00:20.747, 835Mb)
Check R4 / R4B                                                                                       (00:00.001 / 00:20.749, 835Mb)
Assign Comparison Ids                                                                                (00:00.339 / 00:21.089, 1Gb)
Propagating status                                                                                   (00:00.001 / 00:21.090, 1Gb)
Generating Narratives                                                                                (00:00.000 / 00:21.091, 1Gb)
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574495]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574498]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574501]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574504]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574507]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574510]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574517]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574520]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574523]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574526]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574529]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574532]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574537]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574540]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574543]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2574546]
Validating Conformance Resources                                                                     (00:06.447 / 00:27.538, 1Gb)
Check profiles & code systems                                                                        (00:13.376 / 00:40.915, 1Gb)
Check realm rules                                                                                    (00:00.008 / 00:40.923, 1Gb)
Previous Version Comparison                                                                          (00:00.001 / 00:40.925, 1Gb)
Unable to generate snapshot @1 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @1 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @1 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @1 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Validating Resources                                                                                 (00:09.289 / 00:50.214, 2Gb)
Processing Provenance Records                                                                        (00:00.002 / 00:50.216, 2Gb)
Generating Outputs in /tmp/ans.fr.nos#1.3.0/output                                                   (00:00.001 / 00:50.218, 2Gb)
Generate Native Outputs                                                                              (00:00.239 / 00:50.457, 2Gb)
Run Template                                                                                         (02:51.277 / 03:41.735, 2Gb)

onGenerate.checkVersions:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0/template/versions.txt
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/onGenerate.getVersions.xslt

onGenerate.r5-schemas:
      [get] Getting: http://build.fhir.org/fhir-single.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R5/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R5/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R5/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R5/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r4-schemas:
      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R4/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R4/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R4/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0/input-cache/schemas/R4/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r3-schemas:

onGenerate.r2b-schemas:

onGenerate.r2-schemas:

onGenerate.schemas:

onGenerate.data:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0/temp/pages/_data/artifacts.json
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/onGenerate.data.xslt

onGenerate.setup:

onGenerate.infoFile:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0/temp/pages/_data/info.json
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/onGenerate.genJson.xslt

onGenerate.processIncludes:
     [copy] Copying 18 files to /tmp/ans.fr.nos#1.3.0/temp/pages/_includes

onGenerate.processIg:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-working.1.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/onGenerate.group.xslt
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-working.1.xml to /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/onGenerate.final.xslt

onGenerate.igQa:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-updated.xml to /tmp/ans.fr.nos#1.3.0/template/ongenerate-validation-igqa.json
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/onGenerate.qa.xslt

onGenerate.artifactList:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0/template/onGenerate-ig-updated.xml to /tmp/ans.fr.nos#1.3.0/temp/pages/_includes/artifacts.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0/template/scripts/createArtifactSummary.xslt

check-plantumlfiles:

onGenerate.plantUml.ig:

onGenerate.plantUml.template:

onGenerate.plantUml:

onGenerate.copyDataFiles:

onGenerate.extend:

onGenerate:
Template Done                                                                                        (00:02.220 / 03:43.956, 2Gb)
Generate HTML Outputs                                                                                (00:00.001 / 03:43.957, 2Gb)
ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575043]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575046]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575049]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575053]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575056]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575059]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575064]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575068]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575071]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575074]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575077]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575080]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575083]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575086]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575090]
Error from http://tx.fhir.org/r4: Unable to provide support for code system https://smt.esante.gouv.fr/terminologie-emdn [x-request-id: 152-2575093]
Generate Summaries                                                                                   (01:05.059 / 04:49.017, 2Gb)
Generating Summary Outputs                                                                           (00:00.001 / 04:49.018, 2Gb)
Table of contents has a section with more than 222 entries.  Collapsing will not work reliably
DB Cumulative Time invested: 00:02:37.888
Sending Usage Stats to Server                                                                        (00:15.158 / 05:04.176, 2Gb)
## Memory (MB): Use = 2620, Free = 371, Total = 2992, Max = 3996                                     (00:00.004 / 05:04.180, 2Gb)
Reclaiming memory...                                                                                 (00:00.001 / 05:04.182, 2Gb)
## Memory (MB): Use = 1929, Free = 1298, Total = 3228, Max = 3996                                    (00:01.158 / 05:05.340, 1Gb)
Run jekyll: jekyll build --destination "/tmp/ans.fr.nos#1.3.0/output" (in folder /tmp/ans.fr.nos#1.3.0/temp/pages) (00:00.003 / 05:05.344, 1Gb)
Troubleshooting Note: usual cases for Jekyll to fail are:                                            (00:00.005 / 05:05.349, 1Gb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.001 / 05:05.351, 1Gb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.001 / 05:05.353, 1Gb)
Jekyll: Source: /tmp/ans.fr.nos#1.3.0/temp/pages                                                     (00:00.323 / 05:05.676, 1Gb)
Jekyll: Generating...                                                                                (00:00.000 / 05:05.677, 1Gb)
Jekyll: done in 9.369 seconds.                                                                       (00:09.367 / 05:15.045, 1Gb)

Installing ans.fr.nos#1.3.0 done.
Checking Output HTML                                                                                 (00:10.740 / 05:25.786, 2Gb)
found 5060 files                                                                                     (00:00.018 / 05:25.804, 2Gb)
........................................
........................................
  ... 5060 html files, 0 pages invalid xhtml (0%)                                                    (00:42.453 / 06:08.258, 2Gb)
  ... 1301468 links, 7531 broken links (0%)                                                          (00:00.000 / 06:08.259, 2Gb)
Generate fragment-usage-analysis.csv                                                                 (00:00.000 / 06:08.260, 2Gb)
Build final .zip                                                                                     (00:00.005 / 06:08.266, 2Gb)
Final .zip built                                                                                     (00:08.825 / 06:17.091, 2Gb)
Built. Times: loading: 00:04.765, generate: 06:05.125, narrative generation: 00:06.446, realm-rules: 00:00.001, previous-version: 00:09.205, jekyll: 00:09.771, validation: 00:13.360 (#499), template: 00:02.219 (#3) (00:05.890 / 06:22.981, 2Gb)
Generating QA                                                                                        (00:00.001 / 06:22.983, 2Gb)
Sending usage stats failed: Connection timed out
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/html/body/sc', err = 'The <script> containing the javascript 'try {       var curr'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/html/body/sc', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/html/body/sc', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/html/body/sc', err = 'The <script> containing the javascript 'anchors.options.visi'... is illegal and not allowed on the H'
Validation output in /tmp/ans.fr.nos#1.3.0/output/qa.html
Errors: 1042, Warnings: 36977, Info: 1027, Broken Links: 7531 (03:49.525 / 10:12.508, 2Gb)
Finished. Max Memory Used = 2Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log                    (00:00.043 / 10:12.552, 2Gb)
Prepare Build space in /tmp/ans.fr.nos#1.3.0-milestone
Build IG at /home/runner/work/IG-NOS/IG-NOS/igRepo: final copy suitable for publication (in /tmp/ans.fr.nos#1.3.0-milestone) (milestone build)
FHIR IG Publisher Version 1.6.20 (Git# 7bbd1ce5defe). Built 2024-08-13T18:33:37.376Z (8 days old)   
Detected Java version: 17.0.10 from /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64 on Linux/amd64 (64bit). 3996MB available
dir = /home/runner/work/IG-NOS/IG-NOS, path = /opt/hostedtoolcache/Java_Microsoft_jdk/17.0.10/x64/bin:/home/runner/.dotnet:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
Parameters: -ig /tmp/ans.fr.nos#1.3.0-milestone -publish https://interop.esante.gouv.fr/ig/nos/1.2.0 -milestone -no-exit
Start Clock @ Thursday, August 22, 2024 at 10:38:25 AM Coordinated Universal Time (2024-08-22T10:38:25Z)
                                                                                                    
Build FHIR IG from /tmp/ans.fr.nos#1.3.0-milestone                                                   (00:00.003 / 00:00.003, 2Gb)
Build Formal Publication package, intended for https://interop.esante.gouv.fr/ig/nos/1.2.0           (00:00.001 / 00:00.004, 2Gb)
API keys loaded from /home/runner/.fhir/fhir-settings.json                                           (00:00.000 / 00:00.004, 2Gb)
Package Cache: /home/runner/.fhir/packages                                                           (00:00.000 / 00:00.005, 2Gb)
Unable to load IG as an r5 IG - try R4 (property code is a class com.google.gson.JsonPrimitive looking for an object) (00:00.005 / 00:00.011, 2Gb)
Load Template from https://github.com/ansforge/IG-template-Nos                                       (00:00.019 / 00:00.030, 2Gb)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onLoad-ig-working.xml to /tmp/ans.fr.nos#1.3.0-milestone/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /tmp/ans.fr.nos#1.3.0-milestone                                                      (00:01.951 / 00:01.982, 2Gb)
Terminology Cache is at /tmp/ans.fr.nos#1.3.0-milestone/input-cache/txcache. 8 files in cache        (00:01.399 / 00:03.382, 2Gb)
Core Package hl7.fhir.r4.core#4.0.1
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Running Terminology Log: /tmp/ohfu-fhir-ig-14165222438884140086.log
Connect to Terminology Server at http://tx.fhir.org                                                  (00:01.180 / 00:04.562, 2Gb)
Load Package hl7.fhir.pubpack#0.1.8
Load Package hl7.fhir.xver-extensions#0.1.0
Load Package hl7.terminology.r4#6.0.2
Load Package hl7.fhir.uv.extensions.r4#5.1.0
Version mismatch. This IG is version 4.0.1, while the IG 'hl7.fhir.uv.tools' is from version 5.0.0 (will try to run anyway) (00:02.423 / 00:06.985, 2Gb)
Load Package hl7.fhir.uv.tools#0.2.0
Load R5 Specials
Unable to generate snapshot @2 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @2 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @2 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @2 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Initialization complete                                                                              (00:00.298 / 00:07.284, 2Gb)
Load Content                                                                                         (00:00.000 / 00:07.285, 2Gb)
Using en-US as the default narrative language. (no language information in Implementation Guide or command line (00:00.029 / 00:07.314, 2Gb)
loadPrePages from FetchedFile[/tmp/ans.fr.nos#1.3.0-milestone/fsh-generated/includes] as /tmp/ans.fr.nos#1.3.0-milestone/fsh-generated/includes
loadPrePages from FetchedFile[/tmp/ans.fr.nos#1.3.0-milestone/input/data] as /tmp/ans.fr.nos#1.3.0-milestone/input/data
loadPrePages from FetchedFile[/tmp/ans.fr.nos#1.3.0-milestone/input/pagecontent] as /tmp/ans.fr.nos#1.3.0-milestone/input/pagecontent
Fetch https://interop.esante.gouv.fr/ig/nos/package-list.json for version check                      (00:12.615 / 00:19.930, 2Gb)
Processing Conformance Resources                                                                     (00:00.191 / 00:20.121, 2Gb)
Load Dependency Info                                                                                 (00:00.008 / 00:20.130, 2Gb)
Load Info                                                                                            (00:00.002 / 00:20.132, 2Gb)
Load Resources                                                                                       (00:00.001 / 00:20.134, 2Gb)
Load Paths                                                                                           (00:07.257 / 00:27.391, 2Gb)
Generating Snapshots                                                                                 (00:00.001 / 00:27.392, 2Gb)
Check R4 / R4B                                                                                       (00:00.005 / 00:27.397, 2Gb)
Assign Comparison Ids                                                                                (00:00.406 / 00:27.804, 2Gb)
Propagating status                                                                                   (00:00.001 / 00:27.805, 2Gb)
Generating Narratives                                                                                (00:00.000 / 00:27.806, 2Gb)
Validating Conformance Resources                                                                     (00:08.601 / 00:36.408, 3Gb)
Check profiles & code systems                                                                        (00:08.966 / 00:45.374, 1Gb)
Check realm rules                                                                                    (00:00.008 / 00:45.382, 1Gb)
Previous Version Comparison                                                                          (00:00.001 / 00:45.383, 1Gb)
Unable to generate snapshot @1 for Definition from noname because Profile Definition (http://hl7.org/fhir/StructureDefinition/Definition) has no base and no snapshot
Unable to generate snapshot @1 for Event from noname because Profile Event (http://hl7.org/fhir/StructureDefinition/Event) has no base and no snapshot
Unable to generate snapshot @1 for FiveWs from noname because Profile FiveWs (http://hl7.org/fhir/StructureDefinition/FiveWs) has no base and no snapshot
Unable to generate snapshot @1 for Request from noname because Profile Request (http://hl7.org/fhir/StructureDefinition/Request) has no base and no snapshot
Validating Resources                                                                                 (00:07.684 / 00:53.068, 2Gb)
Processing Provenance Records                                                                        (00:00.001 / 00:53.069, 2Gb)
Generating Outputs in /tmp/ans.fr.nos#1.3.0-milestone/output                                         (00:00.001 / 00:53.071, 2Gb)
Generate Native Outputs                                                                              (00:00.151 / 00:53.222, 2Gb)
Run Template                                                                                         (02:55.291 / 03:48.514, 2Gb)

onGenerate.checkVersions:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0-milestone/template/versions.txt
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/onGenerate.getVersions.xslt

onGenerate.r5-schemas:
      [get] Getting: http://build.fhir.org/fhir-single.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R5/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R5/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R5/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R5/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r4-schemas:
      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R4/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R4/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xml.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R4/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd
      [get] To: /tmp/ans.fr.nos#1.3.0-milestone/input-cache/schemas/R4/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r3-schemas:

onGenerate.r2b-schemas:

onGenerate.r2-schemas:

onGenerate.schemas:

onGenerate.data:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0-milestone/temp/pages/_data/artifacts.json
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/onGenerate.data.xslt

onGenerate.setup:

onGenerate.infoFile:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0-milestone/temp/pages/_data/info.json
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/onGenerate.genJson.xslt

onGenerate.processIncludes:
     [copy] Copying 18 files to /tmp/ans.fr.nos#1.3.0-milestone/temp/pages/_includes

onGenerate.processIg:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-working.xml to /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-working.1.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/onGenerate.group.xslt
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-working.1.xml to /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-updated.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/onGenerate.final.xslt

onGenerate.igQa:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-updated.xml to /tmp/ans.fr.nos#1.3.0-milestone/template/ongenerate-validation-igqa.json
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/onGenerate.qa.xslt

onGenerate.artifactList:
     [xslt] Processing /tmp/ans.fr.nos#1.3.0-milestone/template/onGenerate-ig-updated.xml to /tmp/ans.fr.nos#1.3.0-milestone/temp/pages/_includes/artifacts.xml
     [xslt] Loading stylesheet /tmp/ans.fr.nos#1.3.0-milestone/template/scripts/createArtifactSummary.xslt

check-plantumlfiles:

onGenerate.plantUml.ig:

onGenerate.plantUml.template:

onGenerate.plantUml:

onGenerate.copyDataFiles:

onGenerate.extend:

onGenerate:
Template Done                                                                                        (00:01.597 / 03:50.112, 1Gb)
Generate HTML Outputs                                                                                (00:00.001 / 03:50.113, 1Gb)
Generate Summaries                                                                                   (00:58.089 / 04:48.202, 2Gb)
Generating Summary Outputs                                                                           (00:00.000 / 04:48.203, 2Gb)
Table of contents has a section with more than 222 entries.  Collapsing will not work reliably
DB Cumulative Time invested: 00:02:42.588
Sending Usage Stats to Server                                                                        (00:16.046 / 05:04.249, 2Gb)
## Memory (MB): Use = 2409, Free = 1170, Total = 3580, Max = 3996                                    (00:00.001 / 05:04.250, 2Gb)
Reclaiming memory...                                                                                 (00:00.000 / 05:04.251, 2Gb)
## Memory (MB): Use = 1933, Free = 1646, Total = 3580, Max = 3996                                    (00:01.005 / 05:05.256, 1Gb)
Run jekyll: jekyll build --destination "/tmp/ans.fr.nos#1.3.0-milestone/output" (in folder /tmp/ans.fr.nos#1.3.0-milestone/temp/pages) (00:00.001 / 05:05.258, 1Gb)
Troubleshooting Note: usual cases for Jekyll to fail are:                                            (00:00.000 / 05:05.259, 1Gb)
* A failure to produce a fragment that is already logged in the output above                         (00:00.000 / 05:05.260, 1Gb)
* A reference to a manually edited file that hasn't been provided                                    (00:00.000 / 05:05.260, 1Gb)
Jekyll: Source: /tmp/ans.fr.nos#1.3.0-milestone/temp/pages                                           (00:00.352 / 05:05.613, 1Gb)
Jekyll: Generating...                                                                                (00:00.000 / 05:05.614, 1Gb)
Jekyll: done in 9.38 seconds.                                                                        (00:09.379 / 05:14.993, 1Gb)

Installing ans.fr.nos#1.3.0Checking Output HTML                                                                                 (00:08.963 / 05:23.957, 2Gb)
found 5060 files                                                                                     (00:00.018 / 05:23.975, 2Gb)
........................................
........................................
  ... 5060 html files, 0 pages invalid xhtml (0%)                                                    (00:41.055 / 06:05.031, 2Gb)
  ... 1301468 links, 7531 broken links (0%)                                                          (00:00.000 / 06:05.031, 2Gb)
Generate fragment-usage-analysis.csv                                                                 (00:00.000 / 06:05.032, 2Gb)
Build final .zip                                                                                     (00:00.004 / 06:05.037, 2Gb)
Final .zip built                                                                                     (00:08.827 / 06:13.864, 2Gb)
Built. Times: loading: 00:12.835, generate: 05:59.932, narrative generation: 00:08.601, realm-rules: 00:00.001, previous-version: 00:07.634, jekyll: 00:09.801, validation: 00:08.951 (#499), template: 00:01.597 (#3) (00:06.190 / 06:20.054, 2Gb)
Generating QA                                                                                        (00:00.001 / 06:20.055, 2Gb)
Sending usage stats failed: Connection timed out
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0-milestone/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/ht', err = 'The <script> containing the javascript 'try {       var curr'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0-milestone/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/ht', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0-milestone/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/ht', err = 'The <script> containing the javascript '$(document).ready(fu'... is illegal and not allowed on the H'
Internal error in location for message: 'Error @1, 1: Found / expecting a token name', loc = '/tmp/ans.fr.nos#1.3.0-milestone/output/CodeSystem-TRE-A00-ProducteurDocNonPS.change.history.html#/ht', err = 'The <script> containing the javascript 'anchors.options.visi'... is illegal and not allowed on the H'
Validation output in /tmp/ans.fr.nos#1.3.0-milestone/output/qa.html
Errors: 1042, Warnings: 36977, Info: 1027, Broken Links: 7531 (03:50.795 / 10:10.851, 2Gb)
Finished. Max Memory Used = 3Gb. Log file saved in /tmp/fhir-ig-publisher-tmp.log                    (00:00.063 / 10:10.914, 2Gb)
Keep a copy of the build directory at /tmp/web-root/run-20240822/ig-build-zips/ans.fr.nos#1.3.0.zip

ok. All checks passed. Publish v1.3.0 to /tmp/web-root/run-20240822/nos/1.2.0
Copy the IG to /tmp/web-root/run-20240822/nos/1.2.0
Update /tmp/web-root/run-20240822/nos/package-list.json
Publish Box Statement: This page is part of the Guide d'implémentation des NOS (v1.3.0: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version in its permanent home (it will always be available at this URL).  For a full list of available versions, see the <a no-external="true" href="https://interop.esante.gouv.fr/ig/nos/history.html">Directory of published versions</a>
no html insert in /tmp/web-root/run-20240822/nos/1.2.0/qa-txservers.html
  .. 2519 files checked, 2519 updated
  .. 1987 clones checked, 3974 updated
  .. 499 redirections (499 created/updated)
This is a milestone release - publish v1.3.0 to /tmp/web-root/run-20240822/nos
Publish Box Statement: This page is part of the Guide d'implémentation des NOS (v1.3.0: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a no-external="true" href="https://interop.esante.gouv.fr/ig/nos/history.html">Directory of published versions</a>
no html insert in /tmp/ans.fr.nos#1.3.0-milestone/output/qa-txservers.html
  .. 2519 files checked, 2519 updated
  .. 1987 clones checked, 3974 updated
  .. 499 redirections (499 created/updated)
Check for Files to delete
  ... 0 files
Copy to new IG to /tmp/web-root/run-20240822/nos
Update history page at /tmp/web-root/run-20240822/nos from /home/runner/work/IG-NOS/IG-NOS/./IG-website-release/fhir-ig-history-template and ./IG-website-release/templates
Build is complete. Copy from /tmp/web-root/run-20240822
ans.fr.nos (https://interop.esante.gouv.fr/ig/nos): Guide d'implémentation des NOS @ https://ansforge.github.io/IG-NOS/ig/main
  release: release 1.3.0/4.0.1 @ https://interop.esante.gouv.fr/ig/nos/1.2.0
